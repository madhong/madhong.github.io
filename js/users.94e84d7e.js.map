{"version":3,"sources":["webpack:///./src/components/Users.vue?2e0f","webpack:///./src/components/Users.vue?f7df","webpack:///src/components/Users.vue","webpack:///./src/components/Users.vue?cf42","webpack:///./src/components/Users.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","model","value","callback","$$v","query","expression","on","searchName","slot","showAddVisible","staticStyle","tableData","scopedSlots","_u","key","fn","ref","row","$event","status","$set","showAlterUser","delUser","showAssginUser","pagenum","total","handleSizeChange","handleCurrentChange","alterVisible","rules","editForm","_s","username","alterUser","assginVisible","assForm","_l","item","id","roleName","assUser","addVisible","addForm","readdVisible","addUser","staticRenderFns","created","getUserList","data","pagesize","email","mobile","password","rid","roleValue","roleList","methods","val","$refs","resetFields","component"],"mappings":"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","file":"js/users.94e84d7e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=48cf28b9&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=48cf28b9&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"users\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/welcome' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-input',{staticClass:\"input-with-select search\",attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchName},slot:\"append\"})],1),_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.showAddVisible}},[_vm._v(\"添加用户\")]),[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"电话\"}}),_c('el-table-column',{attrs:{\"prop\":\"mg_state\",\"label\":\"用户状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":function($event){return _vm.status(row)}},model:{value:(row.mg_state),callback:function ($$v) {_vm.$set(row, \"mg_state\", $$v)},expression:\"row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.showAlterUser(row)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.delUser(row)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-check\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.showAssginUser(row)}}},[_vm._v(\"分配角色\")])]}}])})],1)],_c('el-pagination',{attrs:{\"current-page\":_vm.pagenum,\"page-sizes\":[2, 4, 6, 8,10],\"page-size\":2,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.alterVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.alterVisible=$event}}},[_c('el-form',{ref:\"deitForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.editForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(_vm.editForm.username))])],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.alterVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.alterUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.assginVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.assginVisible=$event}}},[_c('el-form',{ref:\"assForm\",attrs:{\"model\":_vm.assForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(_vm.assForm.username))])],1),_c('el-form-item',{attrs:{\"label\":\"角色列表\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.assForm.rid),callback:function ($$v) {_vm.$set(_vm.assForm, \"rid\", $$v)},expression:\"assForm.rid\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.assginVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.assUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.addVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"status-icon\":\"\",\"rules\":_vm.rules,\"model\":_vm.addForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.readdVisible}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"users\">\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 搜索 -->\r\n    <el-input  placeholder=\"请输入内容\" v-model=\"query\" class=\"input-with-select search\">\r\n      <el-button @click=\"searchName\" slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n    </el-input>\r\n\r\n    <!-- 添加 -->\r\n    <el-button type=\"success\" @click=\"showAddVisible\" plain>添加用户</el-button>\r\n\r\n    <!-- 表格 -->\r\n    <template>\r\n      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n        <el-table-column prop=\"username\" label=\"姓名\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"mobile\" label=\"电话\"></el-table-column>\r\n\r\n        <el-table-column prop=\"mg_state\" label=\"用户状态\">\r\n          <template v-slot:default=\"{row}\">\r\n            <el-switch @change=\"status(row)\" v-model=\"row.mg_state\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"address\" label=\"操作\">\r\n          <template v-slot:default=\"{row}\">\r\n            <el-button size=\"small\" type=\"primary\" @click=\"showAlterUser(row)\" icon=\"el-icon-edit\" plain></el-button>\r\n            <el-button size=\"small\" type=\"danger\" @click=\"delUser(row)\" icon=\"el-icon-delete\" plain></el-button>\r\n            <el-button size=\"small\" type=\"success\" @click=\"showAssginUser(row)\" icon=\"el-icon-check\" plain>分配角色</el-button>\r\n          </template>\r\n        </el-table-column>\r\n\r\n      </el-table>\r\n    </template>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"pagenum\"\r\n      :page-sizes=\"[2, 4, 6, 8,10]\"\r\n      :page-size=\"2\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n\r\n    <!-- 修改对话框 -->\r\n    <el-dialog title=\"修改用户\" :visible.sync=\"alterVisible\" width=\"40%\">\r\n      <el-form ref=\"deitForm\" :rules=\"rules\" :model=\"editForm\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-tag type=\"info\">{{editForm.username}}</el-tag>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input placeholder=\"请输入邮箱\" v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input placeholder=\"请输入手机号\" v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"alterVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"alterUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 分配对话框 -->\r\n    <el-dialog title=\"分配角色\" :visible.sync=\"assginVisible\" width=\"40%\">\r\n      <el-form ref=\"assForm\" :model=\"assForm\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-tag type=\"info\">{{assForm.username}}</el-tag>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"角色列表\">\r\n          <el-select v-model=\"assForm.rid\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in roleList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.roleName\"\r\n              :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n      <!-- 按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"assginVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"assUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 添加对话框 -->\r\n    <el-dialog title=\"添加用户\" :visible.sync=\"addVisible\" width=\"40%\">\r\n      <el-form ref=\"addForm\" status-icon  :rules=\"rules\" :model=\"addForm\" label-width=\"80px\">\r\n\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n           <el-input placeholder=\"请输入用户名\" v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n           <el-input type=\"password\" placeholder=\"请输入密码\" v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input placeholder=\"请输入邮箱\" v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input placeholder=\"请输入手机号\" v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"readdVisible\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  created () {\r\n    this.getUserList()\r\n  },\r\n  data () {\r\n    return {\r\n      value: true,\r\n      tableData: [],\r\n      query: '',\r\n      pagenum: 1,\r\n      pagesize: 2,\r\n      total: 0,\r\n      alterVisible: false,\r\n      editForm: {\r\n        id: '',\r\n        username: '',\r\n        email: '',\r\n        mobile: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: ['blur', 'change'] },\r\n          { min: 4, max: 16, message: '长度在 4 到 16 个字符', trigger: ['blur', 'change'] }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: ['blur', 'change'] },\r\n          { min: 6, max: 12, message: '长度在 6 到 12 个字符', trigger: ['blur', 'change'] }\r\n        ],\r\n        email: [\r\n          { type: 'email', message: '请输入正确的邮箱', trigger: ['blur', 'change'] }\r\n        ],\r\n        mobile: [\r\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确得手机号', trigger: ['blur', 'change'] }\r\n        ]\r\n      },\r\n      assginVisible: false,\r\n      assForm: {\r\n        id: '',\r\n        username: '',\r\n        rid: ''\r\n      },\r\n      roleValue: '',\r\n      roleList: [],\r\n\r\n      addVisible: false,\r\n      addForm: {\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        mobile: ''\r\n      }\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    async getUserList () {\r\n      const { data, meta } = await this.$axios.get('users', {\r\n        params: {\r\n          query: this.query,\r\n          pagenum: this.pagenum,\r\n          pagesize: this.pagesize\r\n        }\r\n      })\r\n      if (meta.status === 200) {\r\n        this.tableData = data.users\r\n        this.total = data.total\r\n      }\r\n      // console.log(data)\r\n    },\r\n    // 分页-每页多少条\r\n    handleSizeChange (val) {\r\n      this.pagesize = val\r\n      this.pagenum = 1\r\n      this.getUserList()\r\n    },\r\n    // 当前页\r\n    handleCurrentChange (val) {\r\n      this.pagenum = val\r\n      this.getUserList()\r\n    },\r\n    // 删除\r\n    async delUser (row) {\r\n      try {\r\n        await this.$confirm('你还真敢删啊？', '温馨提示', {\r\n          type: 'warning'\r\n        })\r\n        const { meta } = await this.$axios.delete(`users/${row.id}`)\r\n        if (meta.status === 200) {\r\n          this.$message.success(meta.msg)\r\n          if (this.tableData.length === 1 && this.pagenum > 1) {\r\n            this.pagenum--\r\n          }\r\n          this.getUserList()\r\n        } else {\r\n          this.$message.error(meta.msg)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n        this.$message('取消成功')\r\n      }\r\n    },\r\n    // 搜索\r\n    searchName () {\r\n      this.pagenum = 1\r\n      this.getUserList()\r\n    },\r\n    // 修改\r\n    showAlterUser (row) {\r\n      this.alterVisible = true\r\n      this.editForm.username = row.username\r\n      this.editForm.email = row.email\r\n      this.editForm.mobile = row.mobile\r\n      this.editForm.id = row.id\r\n      // console.log(row)\r\n      // 数据回显\r\n    },\r\n    async alterUser () {\r\n      try {\r\n        await this.$refs.deitForm.validate()\r\n        const { id, email, mobile } = this.editForm\r\n        const { meta } = await this.$axios.put(`users/${id}`, { email, mobile })\r\n        if (meta.status === 200) {\r\n          this.$message.success(meta.msg)\r\n          this.alterVisible = false\r\n          this.getUserList()\r\n        } else {\r\n          this.$message.error(meta.msg)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    // 显示分配对话框\r\n    async showAssginUser (row) {\r\n      this.assginVisible = true\r\n      this.assForm.id = row.id\r\n      this.assForm.username = row.username\r\n      // 数据回显\r\n      const res = await this.$axios.get(`/users/${row.id}`)\r\n      if (res.meta.status === 200) {\r\n        const rid = res.data.rid\r\n        this.assForm.rid = rid === -1 ? '' : rid\r\n      }\r\n      // 查询角色列表\r\n      const { data, meta } = await this.$axios.get('roles')\r\n      // console.log(res)\r\n      if (meta.status === 200) {\r\n        this.roleList = data\r\n      } else {\r\n        this.$message.success(meta.msg)\r\n      }\r\n    },\r\n    // 分配\r\n    async assUser () {\r\n      const { meta } = await this.$axios.put(`users/${this.assForm.id}/role`, {\r\n        rid: this.assForm.rid\r\n      })\r\n      if (meta.status === 200) {\r\n        this.$message.success(meta.msg)\r\n        this.assginVisible = false\r\n      } else {\r\n        this.$message.error(meta.msg)\r\n      }\r\n    },\r\n    // 显示添加对话框\r\n    showAddVisible () {\r\n      this.addVisible = true\r\n    },\r\n    // 取消\r\n    readdVisible () {\r\n      this.addVisible = false\r\n      this.$refs.addForm.resetFields()\r\n    },\r\n    // 添加\r\n    async addUser () {\r\n      try {\r\n        await this.$refs.addForm.validate()\r\n        const { username, password, email, mobile } = this.addForm\r\n        const { meta } = await this.$axios.post('users', {\r\n          username,\r\n          password,\r\n          email,\r\n          mobile\r\n        })\r\n        if (meta.status === 201) {\r\n          this.$message.success(meta.msg)\r\n          this.addVisible = false\r\n          this.$refs.addForm.resetFields()\r\n        } else {\r\n          this.$message.error(meta.msg)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    // 状态修改\r\n    async status (row) {\r\n      const { meta } = await this.$axios.put(`users/${row.id}/state/${row.mg_state}`)\r\n      if (meta.status === 200) {\r\n        this.$message.success(meta.msg)\r\n        // this.getUserList()\r\n      } else {\r\n        this.$message.error(meta.msg)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .users{\r\n    .el-breadcrumb{\r\n      line-height: 40px;\r\n      border-bottom: 1px solid #C5C5C5;\r\n      margin-bottom: 10px;\r\n    }\r\n    .search{\r\n      margin: 10px 0;\r\n      margin-top: 0;\r\n      width: 300px;\r\n      margin-right: 20px;\r\n\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=48cf28b9&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=48cf28b9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48cf28b9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}